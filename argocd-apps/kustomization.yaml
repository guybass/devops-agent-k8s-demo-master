# ArgoCD Applications Kustomization
# Contains ArgoCD Application and AppProject definitions
#
# This directory manages what ArgoCD deploys (the "app of apps" pattern).
# Deploy after ArgoCD infrastructure is ready:
#   kubectl apply -k argocd-apps/
#
# Deployment Phases:
#   - Phase 1: All services EXCEPT notification-service (infrastructure, frontend, backend, processing)
#   - Phase 2: Notification service only (depends on Phase 1)
---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: argocd

resources:
  - project.yaml
  # Phase 1: All services except notification-service
  - app-dev-no-domain-phase1.yaml
  # Phase 2: Notification service only
  - app-dev-no-domain-phase2-notification.yaml
